<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
  <script>


    // 기본적인 ajax 통신 방식 함수화
    const url = 'https://jsonplaceholder.typicode.com/posts/1';
    const getJson = (url, callback) => {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', url);
        xhr.onreadystatechange = ()=>{
            if(xhr.readyState !== XMLHttpRequest.DONE){
                return;
            }
            if(xhr.status === 200) {
                callback(JSON.parse(xhr.responseText));
            } else{
                console.error('Error', xhr.status, xhr.statusText);
            }
        }
        xhr.send();
    }

    const callback = (obj)=>{
        console.log(obj);
        document.write(obj.title);
	}

    getJson(url, callback);


  </script>
</head>
<body>

</body>
</html>